const d$=$(document),w$=$(window),Url=location.host;function delay(t){return new Promise(r=>{setTimeout(r,t)})}class LoadError extends Error{constructor(t){super(`HTTP Error! status: ${t.status}`),this.name="LoadError",this.code=t.status,this.response=t}}function loadJson(t){return console.log("loadJson",t),fetch(t).then(t=>{if(!t.ok)throw new LoadError(t);return t.json()}).catch(r=>{throw console.error("Error loading JSON",t,r),r})}function loadFile(t){return console.log("loadFile",t),fetch(t).then(t=>{if(!t.ok)throw new LoadError(t);return t.text()}).catch(r=>{throw console.error("Error loading file",t,r),r})}function getParams(){const t={},r=window.location.search;if(r){const e=r.substring(1).split("&");for(const r of e){const[e,o]=r.split("=");t[decodeURIComponent(e)]=decodeURIComponent(o||"")}}return t}const params=getParams();function getParam(t,r=null){return params[t]||r}async function getError(t){const r=await loadFile(`${location.hostname}/${t}/`),e=(new DOMParser).parseFromString(r,"text/html");$("html").html($(e).find("html").html())}function execute(){$("a").each(function(){const t=$(this);void 0!==t.data("nas")||t.attr("href").endsWith("/")||t.attr("href",t.attr("href")+"/"),"_blank"===t.attr("target")&&t.attr("target",t.attr("href"))}),translate.execute()}function SetState(t){if(null===t)return"null";if(void 0===t)return"undefined";if("string"==typeof t)return encodeURIComponent(t)+"|str";if("number"==typeof t)return t.toString()+"|num";if("boolean"==typeof t)return t.toString()+"|bool";if(Array.isArray(t))try{let r="[";return t.forEach(t=>{r+=`"${SetState(t)}",`}),r+"]|arr"}catch(t){return console.error("Error converting array to string:",t),""}if(t instanceof WeakMap)try{let r="[";return t.forEach((t,e)=>{r+=`{"key":"${SetState(e)}","value":"${SetState(t)}"},`}),encodeURIComponent(r+"]|weakmap")}catch(t){return console.error("Error converting WeakMap to string:",t),""}if("object"==typeof t)try{return encodeURIComponent(JSON.stringify(t))+"|obj"}catch(t){console.error("Error converting object to string:",t)}return encodeURIComponent(String(t))+"|unknown"}function GetState(t){if(!t||"string"!=typeof t)return console.error("Invalid input for GetState:",t),null;let r=decodeURIComponent(t);if("null"===r)return null;if("undefined"===r)return;const e=r.lastIndexOf("|");if(-1===e)return decodeURIComponent(r);const o=decodeURIComponent(r.substring(0,e));switch(r.substring(e+1)){case"str":return o;case"num":return parseFloat(o);case"bool":return"true"===o;case"arr":try{let t=[];return o.substring(1,o.length-1).split(",").forEach(r=>{r?t.push(GetState(r.slice(1,-1))):t.push(void 0)}),t}catch(t){return console.error("Error parsing array:",t),[]}case"obj":case"weakmap":try{let t=new WeakMap;return o.substring(1,o.length-1).split(",").forEach(r=>{r?t.set(GetState(r.slice(1,-1)),GetState(r.slice(1,-1))):t.set(void 0,void 0)}),t}catch(t){return console.error("Error parsing WeakMap:",t),{}}default:return o}}function setCookie(t,r){$.cookie(t,SetState(r),{path:"/",expires:365})}function getCookie(t){return GetState($.cookie(t))}